<!doctype html>
<html class="h-full" lang="{{ request.locale.iso_code }}">
  <head>
    {%- render 'meta-tags' %}
    {%- render 'meta-social' %}
    {%- render "meta-colors" %}

    <title>{{ shop.name }}</title>

    <meta name="description" content="">

    <!-- global scripts & styles -->
    {%- liquid
      render 'vite' with 'theme.scss'
      render 'vite' with 'theme.js'
    -%}

    <!-- SEO -->
    {% if settings.favicon != blank -%}
          <link rel="icon" type="image/png" sizes="32x32" href="{{ settings.favicon | img_url: "32x32", crop: "center" }}">
          <link rel="icon" type="image/png" sizes="48x48" href="{{ settings.favicon | img_url: "48x48", crop: "center" }}">
          <link rel="icon" type="image/png" sizes="64x64" href="{{ settings.favicon | img_url: "64x64", crop: "center" }}">
          <link rel="icon" type="image/png" sizes="128x128" href="{{ settings.favicon | img_url: "128x128", crop: "center" }}">
          {% else %}
          <link rel="icon" type="image/png" sizes="16x16" href="{{ "placeholder-favicon.png" | asset_url }}">
    {%- endif %}

    {{ content_for_header }}

    <!-- global variables -->
    <script>
      Shopify.money_format = '{{ shop.money_format }}';
      const label_add_to_cart = "{{ 'products.product.add_to_cart' | t }}";
      const label_preorder = "{{ 'products.product.preorder' | t }}";
      const label_choose_options = "{{ 'products.product.choose_options' | t }}";
      const label_unavailable = "{{ 'products.product.unavailable' | t }}";
      const label_sold_out = "{{ 'products.product.sold_out' | t }}";
    </script>
  </head>

  <body class="template-{{ template | handleize }}">

    {% sections 'header-group' %}
    {% section "cart-drawer" %}
  
    <main>
      {{ content_for_layout }}
    </main>

    {% if request.page_type == "collection" or request.page_type == "search" %}
      {% section "drawer-filters" %}
    {% endif %} 

    <div id="overlay-mask"></div>

    {% sections 'footer-group' %}

    {% render "drawer-quick-add" %}

    {% unless request.page_type == 'cart' %}
      {% render "drawer-cart" %}
    {% endunless %}

      <script src="https://a.klaviyo.com/media/js/onsite/onsite.js"></script>
      <script>
          var klaviyo = klaviyo || [];
          klaviyo.init({
          account: "{{ settings.klaviyo_company_id }}",
          platform: "shopify"
          });
          klaviyo.enable("backinstock",{ 
          trigger: {
          product_page_text: "Notify Me When Available",
          product_page_class: "button--add-to-cart",
          product_page_text_align: "center",
          product_page_margin: "0px",
          replace_anchor: true,
          },
          modal: {
          headline: "{product_name}",
          body_content: "Register to receive a notification when this item comes back in stock.",
          email_field_label: "Email",
          button_label: "Notify me when available",
          subscription_success_label: "You're in! We'll let you know when it's back.",
          footer_content: '',
          additional_styles: "@import url('https://fonts.googleapis.com/css?family=Helvetica+Neue');",
          drop_background_color: "#000",
          background_color: "#fff",
          text_color: "#222",
          button_text_color: "#fff",
          button_background_color: "#D0009A",
          close_button_color: "#ccc",
          error_background_color: "#fcd6d7",
          error_text_color: "#C72E2F",
          success_background_color: "#d3efcd",
          success_text_color: "#1B9500"
          }
        });
    </script>
  </body>
</html>